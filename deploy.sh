#!/bin/bash

echo "==================================="
echo "VendorHub Deployment Helper"
echo "==================================="
echo ""

# Check if running from correct directory
if [ ! -d "marketplace-frontend" ] || [ ! -d "marketplace-backend" ]; then
    echo "âŒ Error: Please run this script from the project root directory"
    exit 1
fi

echo "ğŸ“‹ Deployment Checklist:"
echo ""
echo "1. âœ… Created deployment configuration files"
echo "2. âœ… Backend: railway.yaml, render.yaml, Procfile"
echo "3. âœ… Frontend: vercel.json"
echo ""

echo "ğŸš€ Quick Deployment Steps:"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "OPTION 1: Fastest Deployment (Using CLIs)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ“± Frontend (Vercel):"
echo "   cd marketplace-frontend"
echo "   npm install -g vercel"
echo "   vercel login"
echo "   vercel --prod"
echo ""
echo "ğŸ”§ Backend (Railway):"
echo "   npm install -g @railway/cli"
echo "   railway login"
echo "   cd marketplace-backend"
echo "   railway init"
echo "   railway up"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "OPTION 2: No CLI Required (Using Web)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ“± Frontend:"
echo "   1. Go to: https://vercel.com"
echo "   2. Click 'Import Project'"
echo "   3. Connect your GitHub repository"
echo "   4. Vercel auto-deploys Next.js!"
echo ""
echo "ğŸ”§ Backend:"
echo "   1. Go to: https://railway.app"
echo "   2. Click 'New Project' â†’ 'Deploy from GitHub'"
echo "   3. Select your repository"
echo "   4. Railway auto-deploys Spring Boot!"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“Š After Deployment:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Get your backend URL from Railway"
echo "2. Update Vercel environment variable:"
echo "   NEXT_PUBLIC_API_URL = <your-backend-url>"
echo "3. Redeploy frontend on Vercel"
echo "4. Your demo is live! ğŸ‰"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ’¾ Database (MongoDB Atlas):"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Go to: https://www.mongodb.com/cloud/atlas"
echo "2. Create free M0 cluster (512MB free)"
echo "3. Get connection string"
echo "4. Add to Railway environment variables"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âš¡ Estimated Time:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  Frontend: 2-3 minutes"
echo "  Backend: 5-7 minutes"
echo "  Total: ~10 minutes!"
echo ""

echo "ğŸ“– For detailed instructions, see: DEPLOYMENT_GUIDE.md"
echo ""
echo "ğŸ¯ Need help? Just ask!"
echo ""
